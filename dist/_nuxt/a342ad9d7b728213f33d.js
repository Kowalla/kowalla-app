(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{405:function(e,t,n){var content=n(454);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(11).default)("5b516a90",content,!0,{sourceMap:!1})},453:function(e,t,n){"use strict";var r=n(405);n.n(r).a},454:function(e,t,n){(e.exports=n(10)(!1)).push([e.i,".fullPage[data-v-f5d4446a]{height:100vh;width:100%;background-color:#39c9a0;display:flex;align-items:center;justify-content:center}.image[data-v-f5d4446a]{height:20em;width:auto}",""])},498:function(e,t,n){"use strict";n.r(t);n(39),n(29),n(51),n(20);var r=n(4),o=n(15),c=n.n(o),l={layout:"none",name:"SignIn",data:function(){return{isLoading:!0,isFullPage:!0}},mounted:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t,n,r,o,l,h,d,f,x,v,m,k,w,$,y,j,O,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$route.query.code){e.next=25;break}return e.next=3,this.$axios.$post("api/v1/github/signin",{code:this.$route.query.code});case 3:return t=e.sent,t.isNew,n=t.token,r=t.user,e.next=9,c.a.set("firstVisit",!0);case 9:return e.next=11,c.a.set("token",n);case 11:return e.next=13,this.$axios.$get("/api/v1/profiles/".concat(r._id,"/subs"));case 13:return o=e.sent,l=o.profileSubscriptions,h=l.owned,d=l.subscriptions,e.next=17,Object.assign(r,{loggedIn:Boolean(Object.keys(r).length)});case 17:return e.next=19,Object.assign(r,{subscriptions:d,owned:h});case 19:return e.next=21,this.$store.commit("user/setUser",r);case 21:return e.next=23,this.$router.push({path:"/dev/user/".concat(r.username)});case 23:e.next=51;break;case 25:if(!this.$route.query.oauth_token){e.next=51;break}return f=this.$route.query,x=f.oauth_token,v=f.oauth_verifier,e.next=29,c.a.get("twitterToken");case 29:if(m=e.sent,x!==m){e.next=51;break}return e.next=33,this.$axios.$post("api/v1/twitter/verify",{oauthToken:x,verifier:v});case 33:return k=e.sent,k.isNew,w=k.token,$=k.user,e.next=39,c.a.set("token",w);case 39:return e.next=41,this.$axios.$get("/api/v1/profiles/".concat($._id,"/subs"));case 41:return y=e.sent,j=y.profileSubscriptions,O=j.owned,_=j.subscriptions,e.next=45,Object.assign($,{loggedIn:Boolean(Object.keys($).length)});case 45:return e.next=47,Object.assign($,{subscriptions:_,owned:O});case 47:return e.next=49,this.$store.commit("user/setUser",$);case 49:return e.next=51,this.$router.push({path:"/dev/user/".concat($.username)});case 51:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{}},h=(n(453),n(1)),component=Object(h.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fullPage"},[n("img",{staticClass:"image",attrs:{src:"https://i.imgur.com/04hoRgV.png"}}),e._v(" "),n("b-loading",{attrs:{active:e.isLoading,"is-full-page":e.isFullPage},on:{"update:active":function(t){e.isLoading=t}}})],1)},[],!1,null,"f5d4446a",null);t.default=component.exports}}]);