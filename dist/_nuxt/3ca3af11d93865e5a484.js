(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{359:function(t,e,o){var content=o(369);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(11).default)("32ac2e46",content,!0,{sourceMap:!1})},368:function(t,e,o){"use strict";var r=o(359);o.n(r).a},369:function(t,e,o){(t.exports=o(10)(!1)).push([t.i,".profile-card-container[data-v-28930ce0]{width:18%;background-color:#fff;border-radius:6px}.cardTitle[data-v-28930ce0]{padding:.25em;font-size:1.5em;text-align:center;font-weight:700;color:#fff;border-radius:6px 6px 0 0}.cardTitle[data-v-28930ce0],.lower[data-v-28930ce0]{background-color:#0a2049}.lower[data-v-28930ce0]{display:flex;align-items:center;flex-direction:column;padding:0 1em 1em;color:#000;border-radius:0 0 6px 6px}.lower div.row[data-v-28930ce0]{display:flex;flex-direction:row}.image img[data-v-28930ce0]{border-radius:6px}#twitter[data-v-28930ce0]{margin-right:1em}.button.action[data-v-28930ce0]{font-weight:700;width:12em;color:#0a2049;background-color:#fff;border-color:#fff;margin-top:1em}.button.action[data-v-28930ce0]:hover{cursor:pointer;-webkit-animation:jelly-data-v-28930ce0 .5s;animation:jelly-data-v-28930ce0 .5s}@-webkit-keyframes jelly-data-v-28930ce0{0%,to{-webkit-transform:scale(1);transform:scale(1)}25%{-webkit-transform:scale(.9,1.1);transform:scale(.9,1.1)}50%{-webkit-transform:scale(1.1,.9);transform:scale(1.1,.9)}75%{-webkit-transform:scale(.95,1.05);transform:scale(.95,1.05)}}@keyframes jelly-data-v-28930ce0{0%,to{-webkit-transform:scale(1);transform:scale(1)}25%{-webkit-transform:scale(.9,1.1);transform:scale(.9,1.1)}50%{-webkit-transform:scale(1.1,.9);transform:scale(1.1,.9)}75%{-webkit-transform:scale(.95,1.05);transform:scale(.95,1.05)}}",""])},374:function(t,e,o){"use strict";o(20);var r=o(4),n=o(15),c=o.n(n),d=o(60),l={name:"SignupCard",components:{},methods:{cardModal:function(){this.$modal.open({parent:this,component:d.a,width:900,hasModalCard:!0,props:{initialState:!1}})},getTwitterCreds:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.$post("api/v1/twitter/signin");case 2:e=t.sent,c.a.set("firstVisit",!0),c.a.set("twitterToken",e.oauth_token),window.location="https://api.twitter.com/oauth/authenticate?oauth_token=".concat(e.oauth_token);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},m=(o(368),o(1)),component=Object(m.a)(l,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card profile-card-container"},[o("h1",{staticClass:"cardTitle"},[t._v("\n    Join Kowalla\n  ")]),t._v(" "),o("div",{staticClass:"lower"},[o("div",{staticClass:"row"},[o("a",{staticClass:"image is-48x48",attrs:{id:"twitter"},on:{click:t.getTwitterCreds}},[o("img",{attrs:{src:"https://seeklogo.com/images/T/twitter-2012-negative-logo-5C6C1F1521-seeklogo.com.png"}})]),t._v(" "),t._m(0)]),t._v(" "),o("a",{staticClass:"button action",on:{click:t.cardModal}},[t._v("Sign Up")])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"image is-48x48",attrs:{id:"github",href:"https://github.com/login/oauth/authorize?client_id=95399e4009a5d2353d00"}},[e("img",{attrs:{src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png"}})])}],!1,null,"28930ce0",null);e.a=component.exports},403:function(t,e,o){var content=o(450);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(11).default)("4e68c690",content,!0,{sourceMap:!1})},404:function(t,e,o){var content=o(452);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(11).default)("293cda1a",content,!0,{sourceMap:!1})},449:function(t,e,o){"use strict";var r=o(403);o.n(r).a},450:function(t,e,o){(t.exports=o(10)(!1)).push([t.i,".section[data-v-f092d4de]{padding-bottom:0}span[data-v-f092d4de]{color:#39c9a0}.level[data-v-f092d4de]{padding:1rem;margin-bottom:1em}.modal-card-body[data-v-f092d4de]{overflow:visible}.field[data-v-f092d4de]{margin:1em 0}div .modal-content[data-v-f092d4de]{width:55%;border-radius:6px;overflow:visible}.modal-content.box[data-v-f092d4de]{min-height:80%}.button.action[data-v-f092d4de]{width:12em;color:#fff;background-color:#39c9a0;border-color:#39c9a0}.post[data-v-f092d4de]{margin-right:.75em}.is-white[data-v-f092d4de]:hover{background-color:#e9ebee}.dropdown-content[data-v-f092d4de]{overflow:visible}",""])},451:function(t,e,o){"use strict";var r=o(404);o.n(r).a},452:function(t,e,o){(t.exports=o(10)(!1)).push([t.i,"h3[data-v-233c056d]{position:-webkit-sticky;position:sticky}img.coworkerPic[data-v-233c056d]{width:50px;height:auto;border-radius:150px;margin:.5em}.notify-badge[data-v-233c056d]{position:absolute;right:1px;background:#32cd32;border-radius:50%;color:#32cd32;width:13px;height:13px;border:2px solid #e9ebee;margin:.5em}.activeCoworkers[data-v-233c056d]{width:100%}@media only screen and (max-width:767px){.activeCoworkers[data-v-233c056d]{display:inline-block;overflow:scroll;white-space:nowrap}h3[data-v-233c056d]{padding-left:.5em}}@media only screen and (min-width:767px){.activeCoworkers[data-v-233c056d]{display:block;width:100%}}",""])},490:function(t,e,o){"use strict";o.r(e);o(39),o(29),o(20);var r=o(4),n=o(62),c=o(142),d=o(61),l=o(141),m=o(386),f=(o(28),o(58)),h={name:"CreatePost",data:function(){return{userDropdown:!1,commDropdown:!1,editor:null}},computed:{postInList:function(){var t=[];if(this.$store.state.user.subscriptions.forEach(function(sub){sub.isProject||t.push({name:sub.name,id:sub.communityId})}),this.$store.state.user.owned.forEach(function(e){e.isProject||t.push({name:e.name,id:e.communityId})}),t.length)return t}},methods:{cardModal:function(){var t=this;if(!this.postInList.length)return this.$toast.open({duration:4e3,message:"You need to subscribe to a community so that you can post in it!",position:"is-top",type:"is-danger"});this.$modal.open({parent:this,component:f.a,events:{"post-created":function(e){t.$emit("post-created",e)}},hasModalCard:!0})}}},v=(o(449),o(1)),w=Object(v.a)(h,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"box level"},[t._m(0),t._v(" "),o("a",{staticClass:"button action",on:{click:function(e){return t.cardModal()}}},[o("b",[t._v("Create")])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"level-left is-size-4"},[e("b",[this._v("Create a post...")])])}],!1,null,"f092d4de",null).exports,x=o(388),k=o(374),_={name:"ActiveCoworkers"},P=(o(451),{layout:"default",name:"Test",components:{ActiveCoworkers:Object(v.a)(_,function(){var t=this,e=t.$createElement,o=t._self._c||e;return this.$store.state.coworkers.list.length?o("div",{staticClass:"activeCoworkers"},[t._m(0),t._v(" "),t._l(this.$store.state.coworkers.list,function(e,r){return o("BTooltip",{key:r,attrs:{label:e.username,position:"is-top",animated:""}},[o("nuxt-link",{attrs:{to:"/dev/user/"+e.username}},[o("span",{staticClass:"notify-badge"}),t._v(" "),o("img",{staticClass:"coworkerPic",attrs:{src:e.profilePicture,onerror:"this.src='https://gradientjoy.com/1000x250'"}})])],1)})],2):t._e()},[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[e("b",[this._v("Users coworking right now:")])])}],!1,null,"233c056d",null).exports,SignupCard:k.a,EmptyPostList:x.a,CreatePost:w,Header:d.a,NavPane:l.a,Post:m.a,MobileHeader:n.a,MobileFooter:c.a},data:function(){return{postList:[],subscribedPostList:[],isMounted:!1,test:!0}},computed:{sort:function(){return this.$store.state.sorting.newsfeed},activeTab:function(){return this.$store.state.activeTabs.NewsFeedActiveTab}},watch:{sort:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.$get("/api/v1/feed/posts/".concat(this.sort,"/0"));case 2:return this.postList=t.sent,t.next=5,this.$axios.$get("/api/v1/feed/posts/".concat(this.$store.state.user._id,"/").concat(this.sort,"/0"));case 5:return this.subscribedPostList=t.sent,t.next=8,this.scroll();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},mounted:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.$get("/api/v1/feed/posts/".concat(this.sort,"/").concat(this.postList.length));case 2:if(this.postList=t.sent,!this.$store.state.user.loggedIn){t.next=7;break}return t.next=6,this.$axios.$get("/api/v1/feed/posts/".concat(this.$store.state.user._id,"/").concat(this.sort,"/").concat(this.subscribedPostList.length));case 6:this.subscribedPostList=t.sent;case 7:return t.next=9,this.scroll();case 9:this.isMounted=!0;case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{scroll:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var e,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(this.postList.length||this.subscribedPostList.length)&&(e=!1,window.onscroll=Object(r.a)(regeneratorRuntime.mark(function t(){var r,n,c,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=document.getElementById("postFeed"),n=window.innerHeight+window.scrollY>=r.offsetHeight-500,e||!n){t.next=30;break}if(e=!0,0!==o.activeTab){t.next=18;break}return t.next=7,o.$axios.$get("/api/v1/feed/posts/".concat(o.sort,"/").concat(o.postList.length));case 7:return c=t.sent,t.next=10,o.postList.concat(c);case 10:if(d=t.sent,!c.length){t.next=16;break}return t.next=14,d;case 14:o.postList=t.sent,e=!1;case 16:t.next=30;break;case 18:if(0!==o.activeTab||!o.$store.state.user.loggedIn){t.next=30;break}return t.next=21,o.$axios.$get("/api/v1/feed/posts/".concat(o.$store.state.user._id,"/").concat(o.sort,"/").concat(o.subscribedPostList.length));case 21:return c=t.sent,t.next=24,o.subscribedPostList.concat(c);case 24:if(d=t.sent,!c.length){t.next=30;break}return t.next=28,d;case 28:o.subscribedPostList=t.sent,e=!1;case 30:case"end":return t.stop()}},t)})));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),addPostToPostList:function(t){this.postList.unshift(t),this.$store.state.user.loggedIn&&this.subscribedPostList.unshift(t)},removePostFromPostList:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=regeneratorRuntime.keys(this.postList);case 1:if((t.t1=t.t0()).done){t.next=10;break}if(i=t.t1.value,this.postList[i]._id!==e){t.next=8;break}return this.postList.splice(i,1),t.next=7,this.$axios.delete("/api/v1/communities/".concat(this.communityId,"/posts/").concat(e));case 7:return t.abrupt("break",10);case 8:t.next=1;break;case 10:t.t2=regeneratorRuntime.keys(this.subscribedPostList);case 11:if((t.t3=t.t2()).done){t.next=20;break}if(o=t.t3.value,this.subscribedPostList[o]._id!==e){t.next=18;break}return this.subscribedPostList.splice(o,1),t.next=17,this.$axios.delete("/api/v1/communities/".concat(this.communityId,"/posts/").concat(e));case 17:return t.abrupt("break",20);case 18:t.next=11;break;case 20:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}),C=Object(v.a)(P,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"screen background-tint"},[o("div",{staticClass:"container is-fullhd is-hidden-touch"},[o("div",{staticClass:"columns is-centered is-marginless main-margin",class:{firstVisit:this.$store.state.firstVisit.firstVisit}},[o("div",{staticClass:"column is-one-quarter side-pane"},[o("NavPane",{staticClass:"fixed"})],1),t._v(" "),o("div",{staticClass:"column is-one-half is-paddingless is-marginless",attrs:{id:"postFeed"}},[this.$store.state.user.loggedIn&&t.isMounted?o("CreatePost",{on:{"post-created":t.addPostToPostList}}):t._e(),t._v(" "),o("b-tabs",{attrs:{id:"columnTabs"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[o("b-tab-item",[t.postList.length?t._e():o("EmptyPostList"),t._v(" "),t._l(t.postList,function(e){return o("Post",{key:e._id,attrs:{post:e},on:{"delete-post":t.removePostFromPostList}})})],2),t._v(" "),o("b-tab-item",[!t.subscribedPostList.length&&this.$store.state.user.loggedIn?o("EmptyPostList"):t._e(),t._v(" "),this.$store.state.user.loggedIn?t._e():o("h1",{staticClass:"noPosts"},[t._v("\n              Create an account or sign in to subscribe to communities and\n              projects!\n            ")]),t._v(" "),t._l(t.subscribedPostList,function(e){return o("Post",{key:e._id,attrs:{post:e},on:{"delete-post":t.removePostFromPostList}})})],2)],1)],1),t._v(" "),o("div",{staticClass:"column is-one-quarter side-pane"},[this.$store.state.user.loggedIn?t._e():o("SignupCard",{staticClass:"fixed"}),t._v(" "),o("ActiveCoworkers")],1)])]),t._v(" "),o("div",{staticClass:"columns is-marginless is-hidden-desktop mobile-main-margin",class:{firstVisit:this.$store.state.firstVisit.firstVisit}},[o("ActiveCoworkers"),t._v(" "),o("b-tabs",{attrs:{id:"columnTabs"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[o("b-tab-item",[t.postList.length?t._e():o("EmptyPostList"),t._v(" "),t._l(t.postList,function(e){return o("Post",{key:e._id,attrs:{post:e,"is-mobile":!0},on:{"delete-post":t.removePostFromPostList}})})],2),t._v(" "),o("b-tab-item",[!t.subscribedPostList.length&&this.$store.state.user.loggedIn?o("EmptyPostList"):t._e(),t._v(" "),this.$store.state.user.loggedIn?t._e():o("h1",{staticClass:"noPosts"},[t._v("\n          Create an account or sign in to subscribe to communities and\n          projects!\n        ")]),t._v(" "),t._l(t.subscribedPostList,function(e){return o("Post",{key:e._id,attrs:{post:e,"is-mobile":!0},on:{"delete-post":t.removePostFromPostList}})})],2)],1)],1)])},[],!1,null,"5aa1cfa3",null);e.default=C.exports}}]);